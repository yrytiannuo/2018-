<!DOCTYPE html>
<html>
<head>
	<meta charset="utf-8">
	<meta http-equiv="X-UA-Compatible" content="IE=edge">
	<title>编码4</title>
</head>
<body>
	<div id="fade-obj" style="width:300px;height:300px;background:#000"></div>
	<button id="fade-btn">淡出</button>
	<script>
		var btn = document.getElementById("fade-btn");
        var fade = document.getElementById("fade-obj");
        var i = 1;
        //淡出
        function fadeout(){
            fade.style.opacity = i;
            i-=0.1;
            btn.disabled = true;
            if(i>0){
                setTimeout(fadeout,100);
            }else if(i<=0){
                btn.innerText = '淡入';
                btn.disabled = false;
                btn.onclick= function(){
                	fadein();
                };
            }
        }
        //淡入
        function fadein() {
            fade.style.opacity = i;
            i+=0.1;
            btn.disabled = true;
            if(i<1){
                setTimeout(fadein,100);
            }else if(i>=1){
                btn.innerText = '淡出';
                btn.disabled = false;
                btn.onclick= function(){
                	fadeout();
                };
            }
        }
        btn.onclick= function(){
            fadeout();
        };
	</script>
</body>
</html>